(function(e){function t(t){for(var c,r,a=t[0],u=t[1],o=t[2],d=0,b=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&b.push(l[r][0]),l[r]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(e[c]=u[c]);s&&s(t);while(b.length)b.shift()();return i.push.apply(i,o||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],c=!0,a=1;a<n.length;a++){var u=n[a];0!==l[u]&&(c=!1)}c&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var c={},l={app:0},i=[];function r(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=c,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)r.d(n,c,function(t){return e[t]}.bind(null,c));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var o=0;o<a.length;o++)t(a[o]);var s=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"26a5":function(e,t,n){"use strict";n("b482")},"4c21":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),l={class:"container"},i={class:"row"},r={class:"col m6 s12"},a={class:"col m6 s12"},u={class:"col s12"};function o(e,t,n,o,s,d){var b=Object(c["n"])("FilesList"),p=Object(c["n"])("ViewModeSettings"),f=Object(c["n"])("ImageView");return Object(c["j"])(),Object(c["d"])("div",l,[Object(c["g"])("div",i,[Object(c["g"])("div",r,[Object(c["g"])(b,{onFileSelected:o.imageChanged,onFileCleared:o.imageChanged},null,8,["onFileSelected","onFileCleared"])]),Object(c["g"])("div",a,[Object(c["g"])(p)]),Object(c["g"])("div",u,[o.selectedImage?(Object(c["j"])(),Object(c["d"])(f,{key:0,src:o.selectedImage},null,8,["src"])):Object(c["e"])("",!0)])])])}n("b0c0");var s={class:"file-select"},d={class:"btn"},b=Object(c["f"])("Выбрать изображения"),p={class:"file-select_list"},f={key:0,class:"collection"},g={class:"secondary-content"};function v(e,t,n,l,i,r){return Object(c["j"])(),Object(c["d"])("div",s,[Object(c["g"])("label",d,[b,Object(c["g"])("input",{ref:"selectedFiles",type:"file",name:"files",accept:"image/*",webkitdirectory:"",directory:"",onChange:t[1]||(t[1]=function(e){return l.updateFiles(e.target.files)}),multiple:""},null,544)]),Object(c["g"])("div",p,[l.files.length?(Object(c["j"])(),Object(c["d"])("ul",f,[(Object(c["j"])(!0),Object(c["d"])(c["a"],null,Object(c["m"])(l.files,(function(e,t){return Object(c["j"])(),Object(c["d"])("li",{class:["collection-item",[{active:e==l.selectedFile}]],key:t,onClick:function(t){return l.selectFile(e)}},Object(c["o"])(t+1)+". "+Object(c["o"])(e.name),11,["onClick"])})),128))])):Object(c["e"])("",!0)]),Object(c["g"])("div",g,"Выбрано изображений: "+Object(c["o"])(l.files.length),1)])}var j=n("2909"),h=(n("a434"),n("99af"),n("4de4"),n("a630"),n("3ca3"),n("caad"),n("2532"),{setup:function(e,t){var n=t.emit,l=Object(c["k"])([]),i=Object(c["l"])(null),r=function(e){i.value=e,n("file-selected",e)},a=function(e){l.splice.apply(l,[0,l.length].concat(Object(j["a"])(Array.from(e).filter((function(e){return e.type.includes("image/")}))))),r(l[0])};return{files:l,selectedFile:i,selectFile:r,updateFiles:a}}});n("785e");h.render=v;var O=h,y={class:"viewmode-settings"};function w(e,t,n,l,i,r){return Object(c["j"])(),Object(c["d"])("div",y,[(Object(c["j"])(!0),Object(c["d"])(c["a"],null,Object(c["m"])(l.viewTypes,(function(e){return Object(c["j"])(),Object(c["d"])("p",{key:e.type},[Object(c["g"])("label",null,[Object(c["g"])("input",{name:"viewtype",type:"radio",checked:l.selectedType.type==e.type,onChange:function(t){return l.selectType(e)}},null,40,["checked","onChange"]),Object(c["g"])("span",null,Object(c["o"])(e.label),1)])])})),128))])}var m=n("5502"),T={setup:function(){var e=Object(m["b"])(),t=Object(c["b"])((function(){return e.getters.getViewTypes})),n=Object(c["b"])((function(){return e.getters.getSelectedtViewType})),l=function(t){e.dispatch("fetchSelectedViewType",t)};return{viewTypes:t,selectedType:n,selectType:l}}};T.render=w;var S=T,k={class:"image-wrapper"},V={class:"image-wrapper_image",ref:"canvas",width:"600",height:"450"};function F(e,t,n,l,i,r){return Object(c["j"])(),Object(c["d"])("div",k,[Object(c["g"])("canvas",V,null,512)])}var C={props:{src:String},setup:function(e){var t=Object(m["b"])(),n=Object(c["p"])(e),l=n.src,i=Object(c["b"])((function(){return t.getters.getSelectedtViewType})),r=Object(c["l"])(null),a=Object(c["l"])(null);Object(c["i"])((function(){a.value=r.value.getContext("2d"),u(l.value)}));var u=function(e){var t=new Image;switch(t.src=e,i.value.type){case"fill":t.width=r.value.width,t.height=r.value.height;break;case"x-fill":t.height=t.height*(r.value.height/t.width),t.width=r.value.width;break;case"y-fill":t.width=t.width*(r.value.width/t.height),t.height=r.value.height;break;case"one-to-one":t.width=r.value.height,t.height=r.value.height;break}console.log(t.complete),t.complete?(a.value.clearRect(0,0,r.value.width,r.value.height),a.value.drawImage(t,0,0,t.width,t.height)):t.onload=function(){a.value.clearRect(0,0,r.value.width,r.value.height),a.value.drawImage(t,0,0,t.width,t.height)}};return Object(c["q"])([l,i],(function(){u(l.value)})),{canvas:r}}};n("26a5");C.render=F;var I=C,x={name:"App",components:{FilesList:O,ViewModeSettings:S,ImageView:I},setup:function(){var e=Object(m["b"])();Object(c["i"])((function(){return e.dispatch("fetchSelectedViewType")}));var t=Object(c["l"])(null),n=function(e){if(e){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t.value=n.result}}else t.value=null};return{selectedImage:t,imageChanged:n}}};n("e70c");x.render=o;var _=x,P=Object(m["a"])({state:{viewTypes:[{type:"fill",label:"Вписывание целиком"},{type:"y-fill",label:"Вписывание по вертикали"},{type:"x-fill",label:"Вписывание по горизонтали"},{type:"one-to-one",label:"Один к одному"}],selectedType:{}},mutations:{setViewType:function(e,t){e.selectedType=t,localStorage.setItem("viewType",JSON.stringify(t))}},actions:{fetchSelectedViewType:function(e){var t=e.commit,n=e.getters,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.parse(localStorage.getItem("viewType"));t("setViewType",null!==c&&void 0!==c?c:n.getViewTypes[0])}},getters:{getSelectedtViewType:function(e){var t=e.selectedType;return t},getViewTypes:function(e){var t=e.viewTypes;return t}}});n("dc53");Object(c["c"])(_).use(P).mount("#app")},"785e":function(e,t,n){"use strict";n("4c21")},b482:function(e,t,n){},e70c:function(e,t,n){"use strict";n("fb50")},fb50:function(e,t,n){}});
//# sourceMappingURL=app.aa3b73c9.js.map